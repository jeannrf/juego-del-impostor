<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego del Impostor</title>
  <!-- CSS Normal -->
  <link rel="stylesheet" href="style.css?v=3">
  <style>
    /* Ajustes para celular (Responsive) */
    @media (max-width: 768px) {
      .hero-actions {
        flex-direction: column;
        /* Botones uno encima del otro */
        width: 100%;
        max-width: 300px;
        /* Que no sean exageradamente anchos */
        margin-left: auto;
        margin-right: auto;
      }

      .btn-large {
        width: 100%;
        /* Bot√≥n ocupa todo el ancho disponible */
        margin-bottom: 10px;
        /* Separaci√≥n entre botones */
      }

      .hero .subtitle {
        padding: 0 20px;
        font-size: 1rem;
        max-width: 80%;
        /* Limitar el ancho */
        margin-left: auto;
        /* Centrar el bloque */
        margin-right: auto;
        /* Centrar el bloque */
      }

      .title {
        font-size: 2.5rem;
        /* T√≠tulo un poco m√°s peque√±o en m√≥vil */
        padding: 0 10px;
      }
    }
  </style>
</head>

<body style="background-color: #0F0E0E; color: white; margin: 0; min-height: 100vh;">

  <!-- PANTALLA 1: PORTADA -->
  <div id="screen-welcome" class="landing-page">
    <header class="navbar container">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">üé≠</span> El Impostor
      </div>
      <!-- Navbar looks cleaner with just the logo now that actions are central -->
    </header>

    <main class="hero container">
      <h1 class="title">Juego del impostor</h1>
      <p class="subtitle">Un divertido juego de deducci√≥n, el objetivo es descubrir qui√©n o quienes son los que no
        conocen la palabra.</p>

      <div class="hero-actions">
        <button id="btn-start" class="btn btn-large">Jugar Ahora</button>
        <button id="btn-how-to-play" class="btn btn-large btn-secondary">C√≥mo se juega</button>
      </div>
    </main>
  </div>

  <!-- PANTALLA 3: INSTRUCCIONES -->
  <div id="screen-instructions" class="container hidden">
    <header class="navbar">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">üé≠</span> El Impostor
      </div>
      <button id="btn-back-home" class="btn" style="background: transparent; border: 1px solid #555;">Volver</button>
    </header>

    <div class="hero">
      <div style="text-align: center; margin-bottom: 1rem;">
        <span style="font-size: 4rem; display: block; margin-bottom: 0.5rem;">üìú</span>
        <h1 style="font-size: 3rem; margin: 0; font-family: 'Georgia', serif;">C√≥mo Jugar</h1>
      </div>
      <h2 class="title" style="font-size: 2rem; color: #B0B0B0; margin-top: 0;">Gu√≠a de Supervivencia</h2>
      <p class="subtitle">Sigue estos pasos para dominar el juego</p>

      <div class="cards-grid instructions-container">
        <!-- Paso 1 -->
        <div class="card instruction-card" style="animation-delay: 0.1s;">
          <div class="card-content">
            <div class="step-icon">üë•</div>
            <h3>Configuraci√≥n</h3>
            <p>Decidan cu√°ntos participan y cu√°ntos ser√°n impostores. <br><small style="color:#E85D04">(Impostores < 1/3
                  del total)</small>
            </p>
          </div>
        </div>

        <!-- Paso 2 -->
        <div class="card instruction-card" style="animation-delay: 0.2s;">
          <div class="card-content">
            <div class="step-icon">ü§´</div>
            <h3>Tu Rol</h3>
            <p>Cada uno ver√° su rol en secreto. Solo la persona con el dispositivo en mano debe ver la pantalla en ese
              momento.</p>
          </div>
        </div>

        <!-- Paso 3 -->
        <div class="card instruction-card" style="animation-delay: 0.3s;">
          <div class="card-content">
            <div class="step-icon">üëÄ</div>
            <h3>Civiles</h3>
            <p>Si no eres impostor, ver√°s la palabra secreta "En Juego". ¬°Cu√≠dala y no reveles demasiado!</p>
          </div>
        </div>

        <!-- Paso 4 -->
        <div class="card instruction-card" style="animation-delay: 0.4s;">
          <div class="card-content">
            <div class="step-icon">üé≠</div>
            <h3>Impostores</h3>
            <p>Ver√°n una palabra pista para guiarse. Tambi√©n podr√°n ver qui√©nes son los otros impostores (si hay m√°s).
            </p>
          </div>
        </div>

        <!-- Paso 5 -->
        <div class="card instruction-card" style="animation-delay: 0.5s;">
          <div class="card-content">
            <div class="step-icon">üî™</div>
            <h3>Ganan Impostores</h3>
            <p>Si igualan o superan en n√∫mero a los civiles, o si el √∫ltimo impostor deduce la palabra secreta al final.
            </p>
          </div>
        </div>

        <!-- Paso 6 -->
        <div class="card instruction-card" style="animation-delay: 0.6s;">
          <div class="card-content">
            <div class="step-icon">üïµÔ∏è</div>
            <h3>Ganan Civiles</h3>
            <p>Deben descubrir y expulsar a todos los impostores antes de que sea demasiado tarde.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PANTALLA 2: CONFIGURACI√ìN DEL JUEGO (Oculta al inicio) -->
  <div id="screen-setup" class="container hidden">
    <header class="navbar">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">üé≠</span> El Impostor
      </div>
      <!-- No nav links needed here, just the persistent logo -->
    </header>

    <div style="text-align: center; margin-top: 2rem;">
      <h1>Configuraci√≥n de Partida</h1>
      <p class="subtitle">Agrega a los jugadores para comenzar</p>

      <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
        <input type="text" id="input-player" placeholder="Nombre del jugador"
          style="padding: 10px; border-radius: 8px; border: 1px solid #333; background: #222; color: white;">
        <button id="btn-add-player" class="btn">Agregar</button>
      </div>

      <ul id="player-list" class="player-list-scroll">
        <!-- Aqu√≠ aparecer√°n los jugadores con JS -->
      </ul>


      <button id="btn-start-game" class="btn" style="background-color: #2a9d8f; display: none;">Hecho</button>
    </div>
  </div>

  <!-- MODAL: CANTIDAD DE IMPOSTORES -->
  <div id="modal-impostors" class="modal hidden">
    <div class="modal-content">
      <h2>¬øQui√©nes mienten?</h2>
      <p>Selecciona la cantidad de impostores</p>

      <!-- Selector de Categor√≠a ELIMINADO (Ya no aplica con nuevo JSON) -->

      <div class="input-group">
        <label for="input-impostor-count" id="label-max-impostors"
          style="display:block; margin-bottom:0.5rem; color:#B0B0B0;">Impostores (M√°ximo: 1)</label>
        <input type="number" id="input-impostor-count" min="1" value="1" class="input-dark">
      </div>

      <div class="modal-actions">
        <button id="btn-cancel-impostors" class="btn btn-secondary">Cancelar</button>
        <button id="btn-confirm-impostors" class="btn">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- PANTALLA 4: REVELAR ROL (Cartas) -->
  <div id="screen-role-reveal" class="hidden"
    style="height: 100vh; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">

    <!-- Tarjeta Din√°mica -->
    <div id="card-reveal" class="role-card">
      <div class="role-icon" id="card-icon">üì±</div>
      <h2 id="card-title">Turno de Juan</h2>
      <p id="card-instruction" class="instruction">Pasa el m√≥vil a Juan</p>

      <!-- Contenido Secreto (Oculto inicialmente) -->
      <div id="card-secret-content" class="hidden">
        <div id="card-word" class="secret-reveal">PALABRA</div>
        <p id="card-role-desc">Descripci√≥n</p>
      </div>

      <button id="btn-card-action" class="btn btn-large" style="margin-top: 1rem;">Soy Juan</button>
    </div>

  </div>

  <!-- PANTALLA 5: RONDA DE JUEGO -->
  <div id="screen-game-round" class="container hidden" style="text-align: center;">
    <header class="navbar">
      <div class="logo">üé≠ En Juego</div>
    </header>

    <div class="hero">
      <h2>Ronda de Palabras</h2>

      <!-- Timer -->
      <div id="game-timer"
        style="font-size: 4rem; font-weight: bold; color: var(--primary-color); margin: 1rem 0; font-variant-numeric: tabular-nums;">
        05:00
      </div>

      <p class="subtitle">Orden de turnos sugerido</p>

      <ul id="round-order-list" style="list-style: none; padding: 0; font-size: 1.5rem; line-height: 2;">
        <!-- Lista generada por JS -->
      </ul>

      <div style="margin-top: 2rem;">
        <button id="btn-goto-vote" class="btn btn-large">Ir a Votaci√≥n</button>
      </div>
    </div>
  </div>

  <!-- PANTALLA 6: VOTACI√ìN -->
  <div id="screen-voting" class="container hidden" style="text-align: center;">
    <header class="navbar">
      <div class="logo">üó≥Ô∏è Votaci√≥n</div>
    </header>

    <h2>¬øQui√©n es el impostor?</h2>
    <p class="subtitle">Discutan y toquen al sospechoso para eliminarlo.</p>

    <div id="voting-grid" class="cards-grid"
      style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; margin-top: 2rem;">
      <!-- Botones de jugadores generados por JS -->
    </div>
  </div>

  <!-- PANTALLA 7: DUELO FINAL (Impostor descubierto) -->
  <div id="screen-final-duel" class="container hidden" style="text-align: center;">
    <h1 style="color: #ff6b6b;">¬°IMPOSTOR DESCUBIERTO!</h1>
    <p id="final-duel-msg" class="subtitle">Pero a√∫n tiene una oportunidad...</p>

    <div style="margin: 2rem 0; padding: 2rem; background: #222; border-radius: 12px;">
      <h3>Adivina la palabra secreta</h3>
      <p>Si aciertas, ganas la partida.</p>
      <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 20px;">
        <input type="text" id="final-guess-input" placeholder="Escribe la palabra secreta..." class="input-dark"
          style="width: 100%; box-sizing: border-box; font-size: 1.2rem;">
        <button id="btn-submit-guess" class="btn btn-large">Intentar</button>
      </div>
    </div>
  </div>

  <!-- JS Normal al final del body -->
  <script src="main.js?v=2"></script>
</body>

</html>