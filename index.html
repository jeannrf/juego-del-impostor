<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego del Impostor</title>
  <!-- CSS Normal -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- PANTALLA 1: PORTADA -->
  <div id="screen-welcome" class="landing-page">
    <header class="navbar container">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">ğŸ­</span> El Impostor
      </div>
      <!-- Navbar looks cleaner with just the logo now that actions are central -->
    </header>

    <main class="hero container">
      <h1 class="title">Juego del impostor</h1>
      <p class="subtitle">Un divertido juego de deducciÃ³n, el objetivo es descubrir quiÃ©n o quienes son los que no
        conocen la palabra.</p>

      <div class="hero-actions">
        <button id="btn-start" class="btn btn-large">Jugar Ahora</button>
        <button id="btn-how-to-play" class="btn btn-large btn-secondary">CÃ³mo se juega</button>
      </div>
    </main>
  </div>

  <!-- PANTALLA 3: INSTRUCCIONES -->
  <div id="screen-instructions" class="container hidden">
    <header class="navbar">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">ğŸ­</span> El Impostor
      </div>
      <button id="btn-back-home" class="btn" style="background: transparent; border: 1px solid #555;">Volver</button>
    </header>

    <div class="hero">
      <div style="text-align: center; margin-bottom: 1rem;">
        <span style="font-size: 4rem; display: block; margin-bottom: 0.5rem;">ğŸ“œ</span>
        <h1 style="font-size: 3rem; margin: 0; font-family: 'Georgia', serif;">CÃ³mo Jugar</h1>
      </div>
      <h2 class="title" style="font-size: 2rem; color: #B0B0B0; margin-top: 0;">GuÃ­a de Supervivencia</h2>
      <p class="subtitle">Sigue estos pasos para dominar el juego</p>

      <div class="cards-grid instructions-container">
        <!-- Paso 1 -->
        <div class="card instruction-card" style="animation-delay: 0.1s;">
          <div class="card-content">
            <div class="step-icon">ğŸ‘¥</div>
            <h3>ConfiguraciÃ³n</h3>
            <p>Decidan cuÃ¡ntos participan y cuÃ¡ntos serÃ¡n impostores. <br><small style="color:#E85D04">(Impostores < 1/3
                  del total)</small>
            </p>
          </div>
        </div>

        <!-- Paso 2 -->
        <div class="card instruction-card" style="animation-delay: 0.2s;">
          <div class="card-content">
            <div class="step-icon">ğŸ¤«</div>
            <h3>Tu Rol</h3>
            <p>Cada uno verÃ¡ su rol en secreto. Solo la persona con el dispositivo en mano debe ver la pantalla en ese
              momento.</p>
          </div>
        </div>

        <!-- Paso 3 -->
        <div class="card instruction-card" style="animation-delay: 0.3s;">
          <div class="card-content">
            <div class="step-icon">ğŸ‘€</div>
            <h3>Civiles</h3>
            <p>Si no eres impostor, verÃ¡s la palabra secreta "En Juego". Â¡CuÃ­dala y no reveles demasiado!</p>
          </div>
        </div>

        <!-- Paso 4 -->
        <div class="card instruction-card" style="animation-delay: 0.4s;">
          <div class="card-content">
            <div class="step-icon">ğŸ­</div>
            <h3>Impostores</h3>
            <p>VerÃ¡n una palabra pista para guiarse. TambiÃ©n podrÃ¡n ver quiÃ©nes son los otros impostores (si hay mÃ¡s).
            </p>
          </div>
        </div>

        <!-- Paso 5 -->
        <div class="card instruction-card" style="animation-delay: 0.5s;">
          <div class="card-content">
            <div class="step-icon">ğŸ”ª</div>
            <h3>Ganan Impostores</h3>
            <p>Si igualan o superan en nÃºmero a los civiles, o si el Ãºltimo impostor deduce la palabra secreta al final.
            </p>
          </div>
        </div>

        <!-- Paso 6 -->
        <div class="card instruction-card" style="animation-delay: 0.6s;">
          <div class="card-content">
            <div class="step-icon">ğŸ•µï¸</div>
            <h3>Ganan Civiles</h3>
            <p>Deben descubrir y expulsar a todos los impostores antes de que sea demasiado tarde.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PANTALLA 2: CONFIGURACIÃ“N DEL JUEGO (Oculta al inicio) -->
  <div id="screen-setup" class="container hidden">
    <header class="navbar">
      <div class="logo" style="cursor: pointer;">
        <span class="icon">ğŸ­</span> El Impostor
      </div>
      <!-- No nav links needed here, just the persistent logo -->
    </header>

    <div style="text-align: center; margin-top: 2rem;">
      <h1>ConfiguraciÃ³n de Partida</h1>
      <p class="subtitle">Agrega a los jugadores para comenzar</p>

      <div style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
        <input type="text" id="input-player" placeholder="Nombre del jugador"
          style="padding: 10px; border-radius: 8px; border: 1px solid #333; background: #222; color: white;">
        <button id="btn-add-player" class="btn">Agregar</button>
      </div>

      <ul id="player-list" style="list-style: none; padding: 0; max-width: 400px; margin: 0 auto;">
        <!-- AquÃ­ aparecerÃ¡n los jugadores con JS -->
      </ul>

      <br>
      <button id="btn-start-game" class="btn" style="background-color: #2a9d8f; display: none;">Hecho</button>
    </div>
  </div>

  <!-- MODAL: CANTIDAD DE IMPOSTORES -->
  <div id="modal-impostors" class="modal hidden">
    <div class="modal-content">
      <h2>Â¿QuiÃ©nes mienten?</h2>
      <p>Selecciona la cantidad de impostores</p>

      <!-- Selector de CategorÃ­a ELIMINADO (Ya no aplica con nuevo JSON) -->

      <div class="input-group">
        <label for="input-impostor-count" id="label-max-impostors"
          style="display:block; margin-bottom:0.5rem; color:#B0B0B0;">Impostores (MÃ¡ximo: 1)</label>
        <input type="number" id="input-impostor-count" min="1" value="1" class="input-dark">
      </div>

      <div class="modal-actions">
        <button id="btn-cancel-impostors" class="btn btn-secondary">Cancelar</button>
        <button id="btn-confirm-impostors" class="btn">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- PANTALLA 4: REVELAR ROL (Cartas) -->
  <div id="screen-role-reveal" class="container hidden"
    style="height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">

    <!-- Tarjeta DinÃ¡mica -->
    <div id="card-reveal" class="role-card">
      <div class="role-icon" id="card-icon">ğŸ“±</div>
      <h2 id="card-title">Turno de Juan</h2>
      <p id="card-instruction" class="instruction">Pasa el mÃ³vil a Juan</p>

      <!-- Contenido Secreto (Oculto inicialmente) -->
      <div id="card-secret-content" class="hidden">
        <div id="card-word" class="secret-reveal">PALABRA</div>
        <p id="card-role-desc">DescripciÃ³n</p>
      </div>

      <button id="btn-card-action" class="btn btn-large" style="margin-top: 1rem;">Soy Juan</button>
    </div>

  </div>

  <!-- PANTALLA 5: RONDA DE JUEGO -->
  <div id="screen-game-round" class="container hidden" style="text-align: center;">
    <header class="navbar">
      <div class="logo">ğŸ­ En Juego</div>
    </header>

    <div class="hero">
      <h2>Ronda de Palabras</h2>

      <!-- Timer -->
      <div id="game-timer"
        style="font-size: 4rem; font-weight: bold; color: var(--primary-color); margin: 1rem 0; font-variant-numeric: tabular-nums;">
        05:00
      </div>

      <p class="subtitle">Orden de turnos sugerido</p>

      <ul id="round-order-list" style="list-style: none; padding: 0; font-size: 1.5rem; line-height: 2;">
        <!-- Lista generada por JS -->
      </ul>

      <div style="margin-top: 2rem;">
        <button id="btn-goto-vote" class="btn btn-large">Ir a VotaciÃ³n</button>
      </div>
    </div>
  </div>

  <!-- PANTALLA 6: VOTACIÃ“N -->
  <div id="screen-voting" class="container hidden" style="text-align: center;">
    <header class="navbar">
      <div class="logo">ğŸ—³ï¸ VotaciÃ³n</div>
    </header>

    <h2>Â¿QuiÃ©n es el impostor?</h2>
    <p class="subtitle">Discutan y toquen al sospechoso para eliminarlo.</p>

    <div id="voting-grid" class="cards-grid"
      style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; margin-top: 2rem;">
      <!-- Botones de jugadores generados por JS -->
    </div>
  </div>

  <!-- PANTALLA 7: DUELO FINAL (Impostor descubierto) -->
  <div id="screen-final-duel" class="container hidden" style="text-align: center;">
    <h1 style="color: #ff6b6b;">Â¡IMPOSTOR DESCUBIERTO!</h1>
    <p id="final-duel-msg" class="subtitle">Pero aÃºn tiene una oportunidad...</p>

    <div style="margin: 2rem 0; padding: 2rem; background: #222; border-radius: 12px;">
      <h3>Adivina la palabra secreta</h3>
      <p>Si aciertas, ganas la partida.</p>
      <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 20px;">
        <input type="text" id="final-guess-input" placeholder="Escribe la palabra secreta..." class="input-dark"
          style="width: 100%; box-sizing: border-box; font-size: 1.2rem;">
        <button id="btn-submit-guess" class="btn btn-large">Intentar</button>
      </div>
    </div>
  </div>

  <!-- JS Normal al final del body -->
  <script src="main.js"></script>
</body>

</html>